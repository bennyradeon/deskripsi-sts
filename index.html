<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STS Informatika XI - Profile Card Portofolio</title>
    <style>
        /* CSS tidak berubah, tetap seperti sebelumnya */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            line-height: 1.6;
            color: #1e293b;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .subhead {
            font-size: 1.2rem;
            color: #475569;
            margin-bottom: 40px;
            border-left: 5px solid #667eea;
            padding-left: 20px;
            background: #f8fafc;
            border-radius: 0 20px 20px 0;
            line-height: 1.8;
        }

        .section {
            background: white;
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px -15px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            transition: transform 0.2s;
        }

        .section:hover {
            transform: translateY(-5px);
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0f172a;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h2 span {
            background: #667eea;
            color: white;
            font-size: 1rem;
            padding: 4px 12px;
            border-radius: 40px;
            font-weight: 500;
        }

        h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 20px 0 10px;
            color: #334155;
        }

        .grid-2, .grid-3, .grid-4 {
            display: grid;
            gap: 20px;
            margin-top: 15px;
        }

        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }

        .card-variasi {
            background: #f8fafc;
            border-radius: 20px;
            padding: 20px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -2px rgba(0,0,0,0.05);
        }

        .badge {
            display: inline-block;
            background: #e2e8f0;
            color: #1e293b;
            padding: 4px 12px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .kode-box {
            background: #0f172a;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            font-weight: bold;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            letter-spacing: 5px;
            margin: 20px 0;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 10px 20px -10px #667eea;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .btn:hover {
            background: #5a67d8;
            transform: scale(1.05);
            box-shadow: 0 15px 25px -10px #667eea;
        }

        .btn-secondary {
            background: #475569;
            box-shadow: none;
        }

        .btn-secondary:hover {
            background: #334155;
        }

        .input-kode {
            padding: 12px 20px;
            border-radius: 50px;
            border: 2px solid #e2e8f0;
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
            width: 150px;
            text-align: center;
            font-weight: bold;
        }

        .preview-container {
            background: #f1f5f9;
            border-radius: 30px;
            padding: 30px;
            margin-top: 30px;
        }

        .preview-card-wrapper {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .preview-card {
            width: 350px;
            background: white;
            border-radius: 28px;
            padding: 24px;
            box-shadow: 0 20px 35px -8px rgba(0,0,0,0.2);
            position: relative;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.5);
        }

        .preview-card.glow-effect {
            box-shadow: 0 0 25px 5px rgba(255, 215, 0, 0.7), 0 20px 35px -8px rgba(0,0,0,0.2);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .preview-card .strip {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 12px;
            border-radius: 28px 28px 0 0;
        }

        .preview-card .profile-img {
            width: 100px;
            height: 100px;
            background: #cbd5e1;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #475569;
            border: 4px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .preview-card .profile-img.foto-kiri {
            margin: 0 15px 0 0;
            flex-shrink: 0;
        }

        .preview-card h4 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .preview-card .desc {
            color: #64748b;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .preview-card hr {
            border: none;
            border-top: 1px solid #e2e8f0;
            margin: 16px 0;
        }

        .preview-card .sub {
            font-weight: 600;
            margin-bottom: 10px;
            color: #334155;
        }

        .preview-card .porto-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .preview-card .porto-list li {
            background: #f8fafc;
            padding: 8px 12px;
            border-radius: 12px;
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .preview-card .skill-item {
            margin-bottom: 12px;
        }

        .preview-card .skill-name {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .preview-card .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 20px;
            overflow: hidden;
        }

        .preview-card .progress-fill {
            height: 100%;
            background: currentColor;
            border-radius: 20px;
        }

        .preview-card .buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .preview-card .btn-preview {
            background: #1e293b;
            color: white;
            padding: 10px 16px;
            border-radius: 14px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: 0.2s;
            border: none;
            cursor: default;
            flex: 1;
            text-align: center;
        }

        .preview-card .btn-preview:hover {
            background: #334155;
            transform: scale(1.02);
        }

        .preview-card .badge-preview {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f59e0b;
            color: white;
            padding: 4px 10px;
            border-radius: 40px;
            font-size: 0.7rem;
            font-weight: 600;
            z-index: 2;
        }

        .preview-card .indicator {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            font-size: 0.6rem;
            padding: 4px 8px;
            border-radius: 20px;
            z-index: 2;
            backdrop-filter: blur(4px);
            letter-spacing: 0.3px;
        }

        .preview-card .glow-badge {
            position: absolute;
            bottom: 45px;
            right: 10px;
            background: #ffaa00;
            color: black;
            font-weight: bold;
            font-size: 0.7rem;
            padding: 6px 10px;
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 3;
            display: flex;
            align-items: center;
            gap: 4px;
            border: 1px solid white;
        }

        .flex-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .detail-layouts {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .detail-card {
            background: white;
            border-radius: 20px;
            padding: 16px;
            box-shadow: 0 10px 25px -10px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            transition: transform 0.2s;
        }

        .detail-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -10px rgba(0,0,0,0.2);
        }

        .detail-card .mini-foto {
            width: 60px;
            height: 60px;
            background: #94a3b8;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .detail-card .mini-foto.kiri {
            margin-right: 12px;
            margin-bottom: 0;
        }

        .detail-card .row {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .detail-card .mini-strip {
            height: 6px;
            background: #667eea;
            width: 100%;
            margin-bottom: 10px;
            border-radius: 3px;
        }

        .detail-card h5 {
            font-size: 1rem;
            margin: 8px 0 4px;
            color: #0f172a;
        }

        .detail-card p {
            font-size: 0.75rem;
            color: #64748b;
            margin-bottom: 8px;
        }

        .detail-card .mini-list {
            margin: 10px 0;
        }

        .detail-card .mini-list-item {
            height: 6px;
            background: #e2e8f0;
            margin: 4px 0;
            border-radius: 3px;
        }

        .detail-card .mini-buttons {
            display: flex;
            gap: 6px;
            margin-top: 10px;
        }

        .detail-card .mini-button {
            flex: 1;
            height: 24px;
            background: #1e293b;
            border-radius: 8px;
        }

        .detail-card .mini-button.dua {
            background: #475569;
        }

        .detail-card .label-layout {
            display: inline-block;
            background: #667eea20;
            color: #667eea;
            font-weight: 600;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 20px;
            margin-bottom: 8px;
        }

        .footer-note {
            background: #f1f5f9;
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            border-left: 10px solid #667eea;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container { padding: 20px; }
            h1 { font-size: 2rem; }
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .detail-layouts { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>STS Informatika Kelas XI</h1>
        <div class="subhead">
            ‚ú¶ Proyek Akhir: Membuat Profile Card dengan Portofolio Pribadi ‚ú¶<br>
            Setiap siswa mendapat kode unik ‚Äî hasil karya harus berbeda
        </div>

        <!-- Tujuan Proyek -->
        <div class="section">
            <h2>üéØ Tujuan Proyek</h2>
            <p>Anak-anak, melalui proyek ini kalian diharapkan bisa:</p>
            <ul style="margin-left: 20px; list-style-type: disc;">
                <li>Membuat kartu profil (profile card) yang menampilkan identitas dan portofolio kalian sendiri.</li>
                <li>Menerapkan HTML dan CSS dengan rapi, termasuk properti seperti flexbox, padding, border-radius, dan efek hover.</li>
                <li>Menyusun laporan singkat dan mempresentasikan hasilnya di depan Bapak/Ibu guru.</li>
            </ul>
        </div>

        <!-- Pilihan Variasi (Kode Tantangan) -->
        <div class="section">
            <h2>üîÄ Pilihan Variasi</h2>
            <p>Supaya hasil karya kalian berbeda satu sama lain, setiap siswa akan mendapatkan <strong>kode tantangan</strong> yang terdiri dari tiga bagian: Tema, Layout, dan Bonus. Perhatikan tabel berikut:</p>
            <div class="grid-3">
                <div class="card-variasi">
                    <h3 style="margin-top:0;">üé® Tema (huruf)</h3>
                    <ul style="list-style: none;">
                        <li><strong>A</strong> ‚Äì Olahraga (warna hijau)</li>
                        <li><strong>B</strong> ‚Äì Musik (warna biru)</li>
                        <li><strong>C</strong> ‚Äì Kuliner (warna oranye)</li>
                        <li><strong>D</strong> ‚Äì Game (warna ungu)</li>
                        <li><strong>E</strong> ‚Äì Literasi (warna coklat)</li>
                        <li><strong>F</strong> ‚Äì Teknologi (warna abu-abu)</li>
                    </ul>
                </div>
                <div class="card-variasi">
                    <h3 style="margin-top:0;">üìê Layout (angka)</h3>
                    <ul style="list-style: none;">
                        <li><strong>1</strong> ‚Äì Foto di kiri (menggunakan flex)</li>
                        <li><strong>2</strong> ‚Äì Header strip di atas</li>
                        <li><strong>3</strong> ‚Äì Dua tombol (misal: Profil dan Kontak)</li>
                        <li><strong>4</strong> ‚Äì Daftar skill (menggunakan &lt;ul&gt;)</li>
                    </ul>
                </div>
                <div class="card-variasi">
                    <h3 style="margin-top:0;">üéÅ Bonus (huruf)</h3>
                    <ul style="list-style: none;">
                        <li><strong>X</strong> ‚Äì Badge (label kecil, misal "XI RPL")</li>
                        <li><strong>Y</strong> ‚Äì Glow effect (efek cahaya di sekeliling card)</li>
                        <li><strong>Z</strong> ‚Äì Progress bar (menunjukkan tingkat keahlian)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Contoh Detail Layout -->
        <div class="section">
            <h2>üìê Contoh Detail Masing-Masing Layout</h2>
            <p>Di bawah ini kalian bisa lihat contoh konkret untuk setiap layout (tanpa bonus). Perhatikan perbedaan letak foto, jumlah tombol, dan cara menampilkan portofolio.</p>
            
            <div class="detail-layouts">
                <!-- Layout 1: Foto di kiri -->
                <div class="detail-card">
                    <div class="label-layout">Layout 1: Foto di kiri</div>
                    <div class="row">
                        <div class="mini-foto kiri">üë§</div>
                        <div>
                            <h5>Budi Santoso</h5>
                            <p>Siswa XI RPL</p>
                        </div>
                    </div>
                    <div class="mini-list">
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                    </div>
                    <div style="margin-top:10px;">
                        <div class="mini-button" style="width:100%; height:28px;"></div>
                    </div>
                    <p style="margin-top:8px; font-size:0.7rem;">Foto di samping kiri, teks di kanan.</p>
                </div>

                <!-- Layout 2: Header strip -->
                <div class="detail-card">
                    <div class="label-layout">Layout 2: Header strip</div>
                    <div class="mini-strip"></div>
                    <div style="display:flex; flex-direction:column; align-items:center;">
                        <div class="mini-foto" style="margin:10px auto;">üë§</div>
                        <h5>Budi Santoso</h5>
                        <p>Siswa XI RPL</p>
                    </div>
                    <div class="mini-list">
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                    </div>
                    <div class="mini-button" style="width:100%; height:28px;"></div>
                    <p style="margin-top:8px; font-size:0.7rem;">Ada strip warna di bagian atas card.</p>
                </div>

                <!-- Layout 3: Dua tombol -->
                <div class="detail-card">
                    <div class="label-layout">Layout 3: Dua tombol</div>
                    <div style="display:flex; flex-direction:column; align-items:center;">
                        <div class="mini-foto" style="margin:0 auto 10px;">üë§</div>
                        <h5>Budi Santoso</h5>
                        <p>Siswa XI RPL</p>
                    </div>
                    <div class="mini-list">
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                        <div class="mini-list-item"></div>
                    </div>
                    <div class="mini-buttons">
                        <div class="mini-button"></div>
                        <div class="mini-button dua"></div>
                    </div>
                    <p style="margin-top:8px; font-size:0.7rem;">Dua tombol di bagian bawah.</p>
                </div>

                <!-- Layout 4: Daftar skill -->
                <div class="detail-card">
                    <div class="label-layout">Layout 4: Daftar skill</div>
                    <div style="display:flex; flex-direction:column; align-items:center;">
                        <div class="mini-foto" style="margin:0 auto 10px;">üë§</div>
                        <h5>Budi Santoso</h5>
                        <p>Siswa XI RPL</p>
                    </div>
                    <div style="margin:10px 0;">
                        <div style="font-size:0.7rem; font-weight:600;">Keahlian:</div>
                        <div class="mini-list-item" style="width:80%;"></div>
                        <div class="mini-list-item" style="width:60%;"></div>
                        <div class="mini-list-item" style="width:70%;"></div>
                    </div>
                    <div class="mini-button" style="width:100%; height:28px;"></div>
                    <p style="margin-top:8px; font-size:0.7rem;">Portofolio ditampilkan sebagai daftar skill.</p>
                </div>
            </div>
        </div>

        <!-- Generator Kode dan Preview -->
        <div class="section">
            <h2>‚öôÔ∏è Generator Kode & Preview</h2>
            <p>Silakan coba-coba kode tantangan di sini. Kalian bisa generate kode acak atau memasukkan kode sendiri. Nanti akan muncul contoh kartu yang sesuai dengan kombinasi tema, layout, dan bonus.</p>
            <div style="display: flex; gap: 20px; flex-wrap: wrap; align-items: center; margin-bottom: 20px;">
                <button class="btn" id="generateBtn">üé≤ Generate Kode Acak</button>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="font-weight: 500;">atau tulis kode:</span>
                    <input type="text" id="kodeInput" class="input-kode" maxlength="3" value="A2X" style="text-transform:uppercase;">
                    <button class="btn btn-secondary" id="updateBtn">Lihat Preview</button>
                </div>
            </div>

            <!-- Preview Card -->
            <div class="preview-container">
                <h3 style="margin-top:0;">üìå Preview untuk Kode: <span id="currentKode" style="background:#0f172a; color:white; padding:4px 12px; border-radius:40px;">A2X</span></h3>
                <div class="preview-card-wrapper" id="previewWrapper">
                    <!-- diisi javascript -->
                </div>
                <div id="kodeArtinya" style="text-align:center; font-weight:500; background:#e6e9ff; padding:15px; border-radius:20px; margin-top:15px;"></div>
                <p style="text-align:center; margin-top:15px; color:#475569;">‚¨ÜÔ∏è Gambar di atas hanya contoh. Hasil kalian nanti akan berbeda karena memakai foto, nama, dan portofolio sendiri. Perhatikan indikator kecil di pojok kiri bawah card yang menunjukkan layout dan bonus yang dipilih.</p>
            </div>
        </div>

        <!-- Tabel Kode Lengkap -->
        <div class="section">
            <h2>üìã Tabel Kode Lengkap</h2>
            <table style="width:100%; border-collapse:collapse;">
                <tr><th>Kode</th><th>Arti</th></tr>
                <tr><td>A / B / C / D / E / F</td><td>Tema: Olahraga, Musik, Kuliner, Game, Literasi, Teknologi</td></tr>
                <tr><td>1 / 2 / 3 / 4</td><td>Layout: foto kiri, header strip, dua tombol, daftar skill</td></tr>
                <tr><td>X / Y / Z</td><td>Bonus: badge, glow effect, progress bar</td></tr>
            </table>
        </div>

        <!-- Catatan Penting -->
        <div class="footer-note">
            <strong>üìù Catatan Bapak/Ibu Guru:</strong> Preview di atas hanyalah simulasi. Yang dinilai nanti adalah:<br>
            - Kesesuaian dengan kode tantangan masing-masing.<br>
            - Kreativitas desain (pilih warna yang enak dilihat, tata letak rapi).<br>
            - Kelengkapan konten (foto asli, nama sendiri, portofolio minimal 3 item).<br>
            - Laporan dan presentasi di depan kelas.<br>
            Jangan lupa kumpulkan file <code>index.html</code> dan laporan PDF. Selamat bekerja!
        </div>
    </div>

    <script>
        // Data tema dan warna (sama seperti sebelumnya)
        const themeColors = {
            'A': { name: 'Olahraga', main: '#4CAF50', dark: '#2E7D32' },
            'B': { name: 'Musik', main: '#2196F3', dark: '#1565C0' },
            'C': { name: 'Kuliner', main: '#FF9800', dark: '#F57C00' },
            'D': { name: 'Game', main: '#9C27B0', dark: '#6A1B9A' },
            'E': { name: 'Literasi', main: '#8B4513', dark: '#5D2E0C' },
            'F': { name: 'Teknologi', main: '#333333', dark: '#111111' }
        };

        const layoutNames = {
            '1': 'Foto di kiri',
            '2': 'Header strip',
            '3': 'Dua tombol',
            '4': 'Daftar skill'
        };

        const bonusNames = {
            'X': 'Badge',
            'Y': 'Glow effect',
            'Z': 'Progress bar'
        };

        function renderPreview(kode) {
            kode = kode.toUpperCase().trim();
            if (!/^[A-F][1-4][XYZ]$/.test(kode)) {
                return '<p style="color:red;">Kode tidak valid. Gunakan format huruf (A-F), angka (1-4), huruf (X-Z), contoh: B2X</p>';
            }

            const theme = kode[0];
            const layout = kode[1];
            const bonus = kode[2];

            const themeData = themeColors[theme];
            const mainColor = themeData.main;
            const darkColor = themeData.dark;

            const nama = 'Budi Santoso';
            const desc = 'Siswa XI RPL | Pecinta ' + themeData.name;
            const fotoInisial = 'BS';

            let cardClass = 'preview-card';
            let stripHtml = '';
            let fotoKiriClass = '';
            let fotoHtml = `<div class="profile-img">${fotoInisial}</div>`;
            let contentAfterFoto = '';

            if (layout === '1') {
                fotoKiriClass = 'flex-row';
                fotoHtml = `<div class="profile-img foto-kiri">${fotoInisial}</div>`;
                contentAfterFoto = `<div style="flex:1;"><h4>${nama}</h4><div class="desc">${desc}</div></div>`;
            }

            if (layout === '2') {
                stripHtml = `<div class="strip" style="background:${darkColor};"></div>`;
            }

            let glowBadge = '';
            if (bonus === 'Y') {
                cardClass += ' glow-effect';
                glowBadge = '<div class="glow-badge">‚ú® GLOW EFFECT</div>';
            }

            let layoutIndicator = `Layout: ${layoutNames[layout]}`;
            let bonusIndicatorText = `Bonus: ${bonusNames[bonus]}`;
            let indicatorHtml = `<div class="indicator">${layoutIndicator} | ${bonusIndicatorText}</div>`;

            let bonusBadge = '';
            if (bonus === 'X') {
                bonusBadge = '<div class="badge-preview" style="background:' + darkColor + ';">XI RPL</div>';
            }

            let portoContent = '';

            if (layout === '4') {
                if (bonus === 'Z') {
                    portoContent = `
                        <div class="sub">Keahlian</div>
                        <ul class="porto-list">
                            <li class="skill-item">
                                <div class="skill-name"><span>HTML/CSS</span><span>80%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:80%; background:${mainColor};"></div></div>
                            </li>
                            <li class="skill-item">
                                <div class="skill-name"><span>JavaScript</span><span>65%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:65%; background:${mainColor};"></div></div>
                            </li>
                            <li class="skill-item">
                                <div class="skill-name"><span>Desain</span><span>90%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:90%; background:${mainColor};"></div></div>
                            </li>
                        </ul>
                    `;
                } else {
                    portoContent = `
                        <div class="sub">Keahlian</div>
                        <ul class="porto-list">
                            <li>‚ö° Web Design</li>
                            <li>‚ö° Mobile App</li>
                            <li>‚ö° UI/UX</li>
                        </ul>
                    `;
                }
            } else {
                if (bonus === 'Z') {
                    portoContent = `
                        <div class="sub">Portofolio & Skill</div>
                        <ul class="porto-list">
                            <li class="skill-item">
                                <div class="skill-name"><span>Web</span><span>80%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:80%; background:${mainColor};"></div></div>
                            </li>
                            <li class="skill-item">
                                <div class="skill-name"><span>Mobile</span><span>65%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:65%; background:${mainColor};"></div></div>
                            </li>
                            <li class="skill-item">
                                <div class="skill-name"><span>UI/UX</span><span>90%</span></div>
                                <div class="progress-bar"><div class="progress-fill" style="width:90%; background:${mainColor};"></div></div>
                            </li>
                        </ul>
                    `;
                } else {
                    portoContent = `
                        <div class="sub">Portofolio</div>
                        <ul class="porto-list">
                            <li>üì± Aplikasi Catatan</li>
                            <li>üñ•Ô∏è Website Sekolah</li>
                            <li>üé® Desain Poster</li>
                        </ul>
                    `;
                }
            }

            let buttonsHtml = '';
            if (layout === '3') {
                buttonsHtml = `
                    <div class="buttons">
                        <span class="btn-preview" style="background:${darkColor};">Profil</span>
                        <span class="btn-preview" style="background:${darkColor};">Kontak</span>
                    </div>
                `;
            } else {
                buttonsHtml = `
                    <div class="buttons" style="justify-content:center;">
                        <span class="btn-preview" style="background:${darkColor};">Lihat Profil</span>
                    </div>
                `;
            }

            let cardHtml = `
                <div class="${cardClass}" style="background: white; position: relative; overflow: hidden;">
                    ${stripHtml}
                    ${bonusBadge}
                    ${glowBadge}
                    ${indicatorHtml}
                    <div style="padding: ${layout==='2'?'24px 24px 24px 24px':'24px'};">
                        <div class="${fotoKiriClass}">
                            ${fotoHtml}
                            ${contentAfterFoto}
                        </div>
                        ${!fotoKiriClass ? `<h4>${nama}</h4><div class="desc">${desc}</div>` : ''}
                        <hr>
                        ${portoContent}
                        ${buttonsHtml}
                    </div>
                </div>
            `;

            return cardHtml;
        }

        function updatePreview(kode) {
            kode = kode.toUpperCase().trim();
            if (!/^[A-F][1-4][XYZ]$/.test(kode)) {
                document.getElementById('previewWrapper').innerHTML = '<p style="color:red;">Kode tidak valid. Gunakan format huruf (A-F), angka (1-4), huruf (X-Z), misal B2X</p>';
                document.getElementById('kodeArtinya').innerHTML = '';
                return;
            }
            const theme = kode[0];
            const layout = kode[1];
            const bonus = kode[2];
            const arti = `Tema: ${themeColors[theme].name}, Layout: ${layoutNames[layout]}, Bonus: ${bonusNames[bonus]}`;
            document.getElementById('kodeArtinya').innerHTML = `<strong>Arti kode ${kode}:</strong> ${arti}`;
            document.getElementById('currentKode').textContent = kode;
            document.getElementById('previewWrapper').innerHTML = renderPreview(kode);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const updateBtn = document.getElementById('updateBtn');
            const kodeInput = document.getElementById('kodeInput');

            function generateRandomKode() {
                const themes = ['A','B','C','D','E','F'];
                const layouts = ['1','2','3','4'];
                const bonuses = ['X','Y','Z'];
                return themes[Math.floor(Math.random()*themes.length)] +
                       layouts[Math.floor(Math.random()*layouts.length)] +
                       bonuses[Math.floor(Math.random()*bonuses.length)];
            }

            generateBtn.addEventListener('click', function() {
                const newKode = generateRandomKode();
                kodeInput.value = newKode;
                updatePreview(newKode);
            });

            updateBtn.addEventListener('click', function() {
                updatePreview(kodeInput.value);
            });

            kodeInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    updatePreview(kodeInput.value);
                }
            });

            updatePreview('A2X');
        });
    </script>
</body>
</html>
